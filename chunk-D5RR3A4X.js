import{e as E}from"./chunk-UDPOFCFO.js";var L=E(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=(function(){function e(){}return e.EOL=`\r
`,e.BOM="\uFEFF",e.DEFAULT_FIELD_SEPARATOR=",",e.DEFAULT_DECIMAL_SEPARATOR=".",e.DEFAULT_QUOTE='"',e.DEFAULT_SHOW_TITLE=!1,e.DEFAULT_TITLE="My Report",e.DEFAULT_FILENAME="mycsv.csv",e.DEFAULT_SHOW_LABELS=!1,e.DEFAULT_USE_BOM=!0,e.DEFAULT_HEADER=[],e.DEFAULT_NO_DOWNLOAD=!1,e.DEFAULT_REMOVE_EMPTY_VALUES=!1,e})();a.CsvConfigConsts=r;a.ConfigDefaults={filename:r.DEFAULT_FILENAME,fieldSeparator:r.DEFAULT_FIELD_SEPARATOR,quoteStrings:r.DEFAULT_QUOTE,decimalseparator:r.DEFAULT_DECIMAL_SEPARATOR,showLabels:r.DEFAULT_SHOW_LABELS,showTitle:r.DEFAULT_SHOW_TITLE,title:r.DEFAULT_TITLE,useBom:r.DEFAULT_USE_BOM,headers:r.DEFAULT_HEADER,noDownload:r.DEFAULT_NO_DOWNLOAD,removeEmptyValues:r.DEFAULT_REMOVE_EMPTY_VALUES};var p=(function(){function e(t,s,o){this.csv="";var n=o||{};this.data=typeof t!="object"?JSON.parse(t):t,this._options=v({},a.ConfigDefaults,n),this._options.filename&&(this._options.filename=s),this.generateCsv()}return e.prototype.generateCsv=function(){if(this._options.useBom&&(this.csv+=r.BOM),this._options.showTitle&&(this.csv+=this._options.title+`\r

`),this.getHeaders(),this.getBody(),this.csv==""){console.log("Invalid data");return}if(this._options.noDownload)return this.csv;var t=new Blob([this.csv],{type:"text/csv;charset=utf8;"});if(navigator.msSaveBlob){var s=this._options.filename.replace(/ /g,"_")+".csv";navigator.msSaveBlob(t,s)}else{var o="data:attachment/csv;charset=utf-8,"+encodeURI(this.csv),n=document.createElement("a");n.href=URL.createObjectURL(t),n.setAttribute("visibility","hidden"),n.download=this._options.filename.replace(/ /g,"_")+".csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e.prototype.getHeaders=function(){var t=this;if(this._options.headers.length>0){var s=this._options.headers,o=s.reduce(function(n,i){return n+i+t._options.fieldSeparator},"");o=o.slice(0,-1),this.csv+=o+r.EOL}},e.prototype.getBody=function(){for(var t=0;t<this.data.length;t++){var s="";for(var o in this.data[t])s+=this.formartData(this.data[t][o])+this._options.fieldSeparator;s=s.slice(0,-1),this.csv+=s+r.EOL}},e.prototype.formartData=function(t){return this._options.removeEmptyValues&&!t?"":this._options.decimalseparator==="locale"&&e.isFloat(t)?t.toLocaleString():this._options.decimalseparator!=="."&&e.isFloat(t)?t.toString().replace(".",this._options.decimalseparator):typeof t=="string"?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):typeof t=="boolean"?t?"TRUE":"FALSE":t},e.prototype.getCsv=function(){return this.csv},e.isFloat=function(t){return+t===t&&(!isFinite(t)||!!(t%1))},e})();a.ngxCsv=p;var h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function _(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function v(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];for(var o,n=_(e),i,c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var l in o)h.call(o,l)&&(n[l]=o[l]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(o);for(var f=0;f<i.length;f++)u.call(o,i[f])&&(n[i[f]]=o[i[f]])}}return n}});export{L as a};
